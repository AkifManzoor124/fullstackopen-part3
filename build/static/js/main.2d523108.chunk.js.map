{"version":3,"sources":["Components/FilterForm.js","services/persons.js","Components/PersonForm.js","Components/Persons.js","Components/Notification.js","App.js","index.js"],"names":["FilterForm","props","onChange","event","setFilter","target","value","baseUrl","axios","get","newObject","post","id","put","delete","PersonForm","onSubmit","preventDefault","persons","findIndex","elem","name","newName","personService","number","newNumber","then","response","setPersons","concat","setNewName","setNumber","console","log","setMessage","catch","error","data","userInput","window","confirm","person","find","n","type","Persons","filter","length","showList","includes","map","i","key","onClick","deletePerson","Notification","message","className","App","useState","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d523108.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterForm = (props) => {\r\n  \r\n    const filterByName = (event) => {\r\n      props.setFilter(event.target.value)\r\n    }\r\n  \r\n    return(\r\n      <form>\r\n        <div>\r\n          filter shown with: <input onChange={filterByName}/>\r\n        </div>\r\n     </form>\r\n    )\r\n  }\r\n\r\nexport default FilterForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  const addInput = (event) => {\r\n    event.preventDefault()\r\n\r\n    if (props.persons.findIndex(elem => elem.name === props.newName) === -1) {\r\n\r\n      personService\r\n        .create({ name: props.newName, number: props.newNumber })\r\n        .then(response => {\r\n          props.setPersons(props.persons.concat({ name: props.newName, number: props.newNumber }))\r\n          props.setNewName('')\r\n          props.setNumber('')          \r\n          console.log(response)\r\n          props.setMessage('Added: ' + props.newName)\r\n        }).catch(error => {\r\n          console.log(error.response.data)\r\n          props.setMessage(error.response.data)\r\n        })\r\n\r\n    } else {\r\n      const userInput = window.confirm(props.newName + \" is already in the phonebook. Would you like to replace the old number with the new one?\")\r\n      const person = props.persons.find(n => props.newName === n.name)\r\n      console.log(\"Person:\", person)\r\n      console.log(\"id\", person.id)\r\n      console.log(\"New Name:\" + props.newName)\r\n      console.log(\"New Number:\", props.newNumber)\r\n      if (userInput === true) {\r\n        personService\r\n          .update(person.id, { name: props.newName, number: props.newNumber })\r\n          .then(response => {\r\n            console.log(response)\r\n            props.setMessage('Changed phone number of: ' + props.newName + ' to: ' + props.newNumber)\r\n          })\r\n          .catch(error => {\r\n            console.log(error.response.data)\r\n            props.setMessage('Information of ' + props.newName + ' has already been removed from the server')\r\n          })\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    props.setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    props.setNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addInput}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} />\r\n          <br></br>\r\n            phone number: <input onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\n\r\nconst Persons = (props) => {\r\n\r\n  const deletePerson = (person) => {\r\n    \r\n    window.confirm('Delete ' + person.name + '?')\r\n\r\n    console.log(person.id)\r\n    \r\n    personService\r\n      .remove(person.id)\r\n      .then(response => {\r\n        console.log(response.data)\r\n      })\r\n  }\r\n\r\n  console.log(\"Filter Lenght\", props.filter.length)\r\n  console.log(\"Persons:\", props.persons)\r\n  const showList = (props.filter.length === 0) ? props.persons : props.persons.filter((person) => person.name.includes(props.filter))\r\n  console.log(showList)\r\n  return (\r\n    <div>\r\n      {showList.map((person, i) => <li key={i}>{person.name} {person.number} <button onClick={ () => deletePerson(person)}>Delete</button></li>)}\r\n    </div>\r\n  )\r\n}\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"update\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect} from 'react'\r\nimport FilterForm from './Components/FilterForm'\r\nimport PersonForm from './Components/PersonForm'\r\nimport Persons from './Components/Persons'\r\nimport Notification from './Components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  \r\n    const [persons, setPersons] = useState([]) \r\n    const [filter, setFilter] = useState('')\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNumber] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect( () => {\r\n        personService  \r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n            })\r\n    }, [])\r\n    console.log(\"Database:\" , persons)\r\n\r\n\r\n  return(\r\n    <div>\r\n      <Notification message={message} />\r\n      <h2>PhoneBook</h2>\r\n      <FilterForm setFilter = {setFilter}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm persons= {persons} newName={newName} newNumber={newNumber} filter={filter} setPersons={setPersons} setNewName={setNewName} setNumber={setNumber} setMessage={setMessage}/>\r\n      <h2>Numbers</h2>\r\n      <Persons filter={filter} setFilter={setFilter} persons={persons}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}